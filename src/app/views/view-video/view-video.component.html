<div class="page">
  <div *ngIf="showVideo$ | async" class="container mb-xl">
    <div class="player mb-xl">
      <app-player
        [video]="(video$ | async)!"
      ></app-player>
    </div>
    <app-video-details
      [video]="(video$ | async)!"
    ></app-video-details>
  </div>
  <div
    *ngIf="userIsAuthor$ | async"
    class="container mb-xl"
  >
    <div class="actions">
      <a
        [routerLink]="['/', 'video', videoId, 'edit']"
        class="button mr-md"
      >
        Edit
      </a>
      <button
        type="button"
        class="button"
        (click)="deleteHandler()"
      >
        Delete
      </button>
    </div>
  </div>
  <div *ngIf="showComments$ | async" class="container container-narrow">
    <div class="mb-xl">
      <app-form-comment
        [submitStatus]="commentFormSubmitStatus$ | async"
        [submitError]="commentFormSubmitError$ | async"
        (formSubmit)="createCommentSubmitHandler($event)"
      ></app-form-comment>
    </div>
    <app-comment-list
      [comments]="(comments$ | async)!"
      [pagination]="(commentsPagination$ | async)!"
      (getPrevPage)="getCommentsPrevPageHandler()"
      (getNextPage)="getCommentsNextPageHandler()"
    ></app-comment-list>
  </div>
</div>
